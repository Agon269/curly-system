<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Task 2</title>
</head>
<body>
    <div class="nav">
        <button onclick="download_image()">
            Download
        </button>
    </div>



    <div class="sidenav">
        <ul class="menu">
            <li>Elements</li>
            <li><a href="./image.html">image</a></li>
            <li><a href="./text.html">text</a></li>
            <li class="active"><a href="#" >background</a></li>
        </ul>
    </div>
  
        
        

    <div class="board">
<!-- bacground color challenge -->
        <div class="samples">
            <p>Default colors</p>
            <div class="colors">
                <div class="square" onclick="changeBackground('orange')" id="orange"></div>
                <div class="square" onclick="changeBackground('green')"  id="green"></div>
                <div class="square" onclick="changeBackground('blue')"  id="blue"></div>
                <div class="square" onclick="changeBackground('brown')"  id="brown"></div>
                <div class="square" onclick="changeBackground('purple')"  id="purple"></div>
                <div class="square" onclick="changeBackground('yellow')"  id="yellow"></div>
                <div class="square" onclick="changeBackground('pink')"  id="pink"></div>
                <div class="square" onclick="changeBackground('black')"  id="black"></div>
            </div>
           
        </div>
  

    <!-- overflow hidden -->
          <canvas id="c" width="800" height="600"></canvas>
    </div>
   
</body>


<script src="./script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/460/fabric.min.js" integrity="sha512-ybPp3kCrNQXdvTfh99YLIdnajWnQvHuEKDJ+b26mxI9w+pLhnBo3HmNLJ1pEUBFO1Q0bfJxApeqecNbmaV763g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>

<script>

    //========== background colo challenge
    let def = 'orange';
    var canvas =  new fabric.Canvas('c');

    var rectangle = new fabric.Rect({
        left: 100,
        top: 100,
        fill: def,
        width: 600,
        height: 600
    })
    function changeBackground(color){
        rectangle.set({fill:color})
        
        canvas.renderAll();
       
  }
    canvas.add(rectangle);


//==================================

function download_image(){
  var canvas = document.getElementById("c");
  image = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
  var link = document.createElement('a');
  link.download = "my-image.png";
  link.href = image;
  link.click();
}
</script>
</html>